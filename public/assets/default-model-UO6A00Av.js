import{_ as U,c as h,l as c,a as t,w as r,P as w,r as _,Q as p,o as f,g as m,h as N,U as x,V as P,W as K,B as k,k as B}from"./index-C9fJEsZT.js";import{h as v}from"./http-B5vhwVWP.js";const u={async get(){var s,e,o;const a=await v.get("/api/settings");return{modelName:((s=a.data)==null?void 0:s.llm_model)||"GPT-4",modelUrl:((e=a.data)==null?void 0:e.llm_base_url)||"",apiKey:((o=a.data)==null?void 0:o.llm_api_key)||""}},async save(n){await v.post("/api/settings",{llm_model:n.modelName,llm_base_url:n.modelUrl,llm_api_key:n.apiKey})}},I={__name:"default-model",setup(n,{expose:a}){a();const s=_(.7),e=p({modelName:"",modelUrl:"",apiKey:""}),o=_(!1);f(async()=>{try{const l=await u.get();Object.assign(e,l)}catch{m.error("获取设置失败")}finally{}});const d={temperature:s,formState:e,loading:o,handleSubmit:async()=>{try{o.value=!0,await u.save(e),m.success("设置保存成功")}catch{m.error("保存设置失败")}finally{o.value=!1}},ref:_,reactive:p,onMounted:f,get message(){return m},get settingService(){return u}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},O={class:"default-model"};function T(n,a,s,e,o,g){const d=P,l=x,y=K,b=k,S=w;return N(),h("div",O,[a[4]||(a[4]=c("h2",null,"默认模型",-1)),c("div",null,[t(S,{model:e.formState,layout:"vertical",onFinish:e.handleSubmit},{default:r(()=>[t(l,{label:"自定义模型"},{default:r(()=>[t(d,{value:e.formState.modelName,"onUpdate:value":a[0]||(a[0]=i=>e.formState.modelName=i),placeholder:"例如: GPT-4",disabled:e.loading},null,8,["value","disabled"])]),_:1}),t(l,{label:"模型 URL"},{default:r(()=>[t(d,{value:e.formState.modelUrl,"onUpdate:value":a[1]||(a[1]=i=>e.formState.modelUrl=i),placeholder:"https://api.example.com/v1",disabled:e.loading},null,8,["value","disabled"])]),_:1}),t(l,{label:"API Key"},{default:r(()=>[t(y,{value:e.formState.apiKey,"onUpdate:value":a[2]||(a[2]=i=>e.formState.apiKey=i),placeholder:"输入您的API密钥",disabled:e.loading},null,8,["value","disabled"])]),_:1}),t(l,null,{default:r(()=>[t(b,{type:"primary","html-type":"submit",loading:e.loading},{default:r(()=>a[3]||(a[3]=[B("保存设置")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}const G=U(I,[["render",T],["__scopeId","data-v-bd7ce199"],["__file","/Users/samihalawa/git/PROJECTS_CODING/lemonai/frontend/src/view/setting/default-model.vue"]]);export{G as default};
