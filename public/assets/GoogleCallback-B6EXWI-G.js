import{_ as k,c as h,l as x,a as l,S as b,y as P,w as T,z as L,u as m,d as f,r as u,A as w,L as v,o as S,g as p,h as y,j as G,t as O}from"./index-COUhflQL.js";import{s as C}from"./auth-D-et7D_s.js";import"./http-B5vhwVWP.js";import"./user-B_oAAdlF.js";const R={__name:"GoogleCallback",setup(d,{expose:_}){_();const{t:o}=m(),e=f(),s=u(0),r=u(!1),i=w(v,{style:{fontSize:"48px",color:"#4f46e5"},spin:!0});S(async()=>{setTimeout(()=>r.value=!0,300);const g=()=>{s.value<80&&(s.value+=10,setTimeout(g,300))};g();let t;if(window.location.search)t=new URLSearchParams(window.location.search);else{const n=window.location.hash.split("?")[1];t=new URLSearchParams(n)}if(console.log("urlParams:",t.has("code")),t.has("code"))try{const n="http://localhost:5005/api/users/auth/google";console.log("redirectUri",n),await C.googleAuth(t.get("code"),n),s.value=100,p.success(o("auth.loginSuccessful")),setTimeout(()=>e.push({name:"lemon"}),500)}catch(c){p.error(o("auth.loginFailed")+": "+c.message)}});const a={t:o,router:e,percent:s,showText:r,indicator:i,ref:u,onMounted:S,h:w,get useI18n(){return m},get useRouter(){return f},get message(){return p},get LoadingOutlined(){return v},get auth(){return C}};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}},U={class:"callback-container"},I={class:"animation-wrapper"},N={key:0,class:"loading-text"};function V(d,_,o,e,s,r){const i=b,a=P;return y(),h("div",U,[x("div",I,[l(i,{size:"large",indicator:e.indicator,class:"spin-animation"},null,8,["indicator"]),l(a,{percent:e.percent,"show-info":!1,"stroke-color":"#4f46e5",class:"progress-bar"},null,8,["percent"])]),l(L,{name:"fade"},{default:T(()=>[e.showText?(y(),h("p",N,O(d.$t("Verifying Google Login...")),1)):G("v-if",!0)]),_:1})])}const D=k(R,[["render",V],["__scopeId","data-v-da86347e"],["__file","/Users/samihalawa/git/PROJECTS_CODING/lemonai/frontend/src/view/auth/GoogleCallback.vue"]]);export{D as default};
