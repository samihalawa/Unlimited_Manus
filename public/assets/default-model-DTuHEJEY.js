import{h as p}from"./http-BD0bo4QE.js";import{q as g,r as _,O as U,o as N,f as i,d as w,l as c,e as t,w as s,P as h,h as x,Q as K,U as k,V as B,B as P,k as I}from"./index-Cp0oSd0G.js";const v={async get(){var l,r,o;const e=await p.get("/api/settings");return{modelName:((l=e.data)==null?void 0:l.llm_model)||"GPT-4",modelUrl:((r=e.data)==null?void 0:r.llm_base_url)||"",apiKey:((o=e.data)==null?void 0:o.llm_api_key)||""}},async save(n){await p.post("/api/settings",{llm_model:n.modelName,llm_base_url:n.modelUrl,llm_api_key:n.apiKey})}},V={class:"default-model"},T={__name:"default-model",setup(n){_(.7);const e=U({modelName:"",modelUrl:"",apiKey:""}),l=_(!1);N(async()=>{try{const o=await v.get();Object.assign(e,o)}catch{i.error("获取设置失败")}finally{}});const r=async()=>{try{l.value=!0,await v.save(e),i.success("设置保存成功")}catch{i.error("保存设置失败")}finally{l.value=!1}};return(o,a)=>{const m=k,u=K,f=B,y=P,b=h;return x(),w("div",V,[a[4]||(a[4]=c("h2",null,"默认模型",-1)),c("div",null,[t(b,{model:e,layout:"vertical",onFinish:r},{default:s(()=>[t(u,{label:"自定义模型"},{default:s(()=>[t(m,{value:e.modelName,"onUpdate:value":a[0]||(a[0]=d=>e.modelName=d),placeholder:"例如: GPT-4",disabled:l.value},null,8,["value","disabled"])]),_:1}),t(u,{label:"模型 URL"},{default:s(()=>[t(m,{value:e.modelUrl,"onUpdate:value":a[1]||(a[1]=d=>e.modelUrl=d),placeholder:"https://api.example.com/v1",disabled:l.value},null,8,["value","disabled"])]),_:1}),t(u,{label:"API Key"},{default:s(()=>[t(f,{value:e.apiKey,"onUpdate:value":a[2]||(a[2]=d=>e.apiKey=d),placeholder:"输入您的API密钥",disabled:l.value},null,8,["value","disabled"])]),_:1}),t(u,null,{default:s(()=>[t(y,{type:"primary","html-type":"submit",loading:l.value},{default:s(()=>a[3]||(a[3]=[I("保存设置")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])])}}},G=g(T,[["__scopeId","data-v-806c581a"]]);export{G as default};
